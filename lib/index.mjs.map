{"version":3,"file":"index.mjs","sources":["../node_modules/tslib/tslib.es6.js","../src/src/utils.ts","../src/src/transformers/mdast-to-slate/index.ts","../src/src/plugins/remark-to-slate.ts","../src/src/transformers/slate-to-mdast/index.ts","../src/src/plugins/slate-to-remark.ts","../src/src/transformers/slate0.47-to-slate.ts","../src/src/plugins/slate0.47-to-remark.ts","../src/src/transformers/slate-to-slate0.47.ts","../src/src/plugins/remark-to-slate0.47.ts","../src/src/transformers/mdast-to-golden-slate/index.ts","../src/src/plugins/remark-to-golden-slate.ts"],"sourcesContent":["/******************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    if (typeof b !== \"function\" && b !== null)\r\n        throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __esDecorate(ctor, descriptorIn, decorators, contextIn, initializers, extraInitializers) {\r\n    function accept(f) { if (f !== void 0 && typeof f !== \"function\") throw new TypeError(\"Function expected\"); return f; }\r\n    var kind = contextIn.kind, key = kind === \"getter\" ? \"get\" : kind === \"setter\" ? \"set\" : \"value\";\r\n    var target = !descriptorIn && ctor ? contextIn[\"static\"] ? ctor : ctor.prototype : null;\r\n    var descriptor = descriptorIn || (target ? Object.getOwnPropertyDescriptor(target, contextIn.name) : {});\r\n    var _, done = false;\r\n    for (var i = decorators.length - 1; i >= 0; i--) {\r\n        var context = {};\r\n        for (var p in contextIn) context[p] = p === \"access\" ? {} : contextIn[p];\r\n        for (var p in contextIn.access) context.access[p] = contextIn.access[p];\r\n        context.addInitializer = function (f) { if (done) throw new TypeError(\"Cannot add initializers after decoration has completed\"); extraInitializers.push(accept(f || null)); };\r\n        var result = (0, decorators[i])(kind === \"accessor\" ? { get: descriptor.get, set: descriptor.set } : descriptor[key], context);\r\n        if (kind === \"accessor\") {\r\n            if (result === void 0) continue;\r\n            if (result === null || typeof result !== \"object\") throw new TypeError(\"Object expected\");\r\n            if (_ = accept(result.get)) descriptor.get = _;\r\n            if (_ = accept(result.set)) descriptor.set = _;\r\n            if (_ = accept(result.init)) initializers.unshift(_);\r\n        }\r\n        else if (_ = accept(result)) {\r\n            if (kind === \"field\") initializers.unshift(_);\r\n            else descriptor[key] = _;\r\n        }\r\n    }\r\n    if (target) Object.defineProperty(target, contextIn.name, descriptor);\r\n    done = true;\r\n};\r\n\r\nexport function __runInitializers(thisArg, initializers, value) {\r\n    var useValue = arguments.length > 2;\r\n    for (var i = 0; i < initializers.length; i++) {\r\n        value = useValue ? initializers[i].call(thisArg, value) : initializers[i].call(thisArg);\r\n    }\r\n    return useValue ? value : void 0;\r\n};\r\n\r\nexport function __propKey(x) {\r\n    return typeof x === \"symbol\" ? x : \"\".concat(x);\r\n};\r\n\r\nexport function __setFunctionName(f, name, prefix) {\r\n    if (typeof name === \"symbol\") name = name.description ? \"[\".concat(name.description, \"]\") : \"\";\r\n    return Object.defineProperty(f, \"name\", { configurable: true, value: prefix ? \"\".concat(prefix, \" \", name) : name });\r\n};\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (g && (g = 0, op[0] && (_ = 0)), _) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    var desc = Object.getOwnPropertyDescriptor(m, k);\r\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\r\n        desc = { enumerable: true, get: function() { return m[k]; } };\r\n    }\r\n    Object.defineProperty(o, k2, desc);\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n});\r\n\r\nexport function __exportStar(m, o) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n}\r\n\r\nexport function __spreadArray(to, from, pack) {\r\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\r\n        if (ar || !(i in from)) {\r\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\r\n            ar[i] = from[i];\r\n        }\r\n    }\r\n    return to.concat(ar || Array.prototype.slice.call(from));\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: false } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nvar __setModuleDefault = Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, state, kind, f) {\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\r\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, state, value, kind, f) {\r\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\r\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\r\n}\r\n\r\nexport function __classPrivateFieldIn(state, receiver) {\r\n    if (receiver === null || (typeof receiver !== \"object\" && typeof receiver !== \"function\")) throw new TypeError(\"Cannot use 'in' operator on non-object\");\r\n    return typeof state === \"function\" ? receiver === state : state.has(receiver);\r\n}\r\n\r\nexport default {\r\n    __extends,\r\n    __assign,\r\n    __rest,\r\n    __decorate,\r\n    __param,\r\n    __metadata,\r\n    __awaiter,\r\n    __generator,\r\n    __createBinding,\r\n    __exportStar,\r\n    __values,\r\n    __read,\r\n    __spread,\r\n    __spreadArrays,\r\n    __spreadArray,\r\n    __await,\r\n    __asyncGenerator,\r\n    __asyncDelegator,\r\n    __asyncValues,\r\n    __makeTemplateObject,\r\n    __importStar,\r\n    __importDefault,\r\n    __classPrivateFieldGet,\r\n    __classPrivateFieldSet,\r\n    __classPrivateFieldIn,\r\n};\r\n","import { GoldenNode } from \"./plugins/remark-to-golden-slate\";\n\nexport const unreachable = (_: never): never => {\n  throw new Error(\"unreachable\");\n};\n\ntype CiteIDMapFunction = (id: number) => Promise<number>;\n\nconst mapGoldenNodeCiteID = async (\n  node: GoldenNode,\n  mapFunction: CiteIDMapFunction\n): Promise<GoldenNode> => {\n  if (node.type === \"cite\" && node.data.id) {\n    return {\n      ...node,\n      data: {\n        ...node.data,\n        id: await mapFunction(node.data.id),\n      },\n    };\n  }\n\n  if (node.nodes) {\n    return {\n      ...node,\n      nodes: await mapGoldenSlateCiteIDs(\n        node.nodes as GoldenNode[],\n        mapFunction\n      ),\n    };\n  }\n\n  return node;\n};\n\nexport const mapGoldenSlateCiteIDs = async (\n  nodes: GoldenNode[],\n  mapFunction: CiteIDMapFunction\n): Promise<GoldenNode[]> => {\n  return await Promise.all(\n    nodes.map(async (node) => await mapGoldenNodeCiteID(node, mapFunction))\n  );\n};\n","import type * as slate from \"../../models/slate\";\nimport type * as mdast from \"../../models/mdast\";\nimport { unreachable } from \"../../utils\";\n\nexport type Decoration = Readonly<{\n  [key in (\n    | mdast.Emphasis\n    | mdast.Strong\n    | mdast.Delete\n    | mdast.InlineCode\n  )[\"type\"]]?: true;\n}>;\n\nexport type OverridedMdastBuilders = {\n  [key in mdast.Content[\"type\"]]?: MdastBuilder<key>;\n} & ({ [key: string]: MdastBuilder<typeof key> } | {});\n\nexport type MdastBuilder<T extends string> = (\n  node: T extends mdast.Content[\"type\"]\n    ? Extract<mdast.Content, { type: T }>\n    : unknown,\n  next: (children: any[]) => any\n) => object | undefined;\n\nexport const mdastToSlate = (\n  node: mdast.Root,\n  overrides: OverridedMdastBuilders\n): slate.Node[] => {\n  return buildSlateRoot(node, overrides);\n};\n\nconst buildSlateRoot = (\n  root: mdast.Root,\n  overrides: OverridedMdastBuilders\n): slate.Node[] => {\n  return convertNodes(root.children, {}, overrides);\n};\n\nconst convertNodes = (\n  nodes: mdast.Content[],\n  deco: Decoration,\n  overrides: OverridedMdastBuilders\n): slate.Node[] => {\n  return nodes.reduce<slate.Node[]>((acc, node) => {\n    acc.push(...buildSlateNode(node, deco, overrides));\n    return acc;\n  }, []);\n};\n\nconst buildSlateNode = (\n  node: mdast.Content,\n  deco: Decoration,\n  overrides: OverridedMdastBuilders\n): SlateNode[] => {\n  const customNode = overrides[node.type]?.(node as any, (children) =>\n    convertNodes(children, deco, overrides)\n  );\n  if (customNode != null) {\n    return [customNode as SlateNode];\n  }\n\n  switch (node.type) {\n    case \"paragraph\":\n      return [buildParagraph(node, deco, overrides)];\n    case \"heading\":\n      return [buildHeading(node, deco, overrides)];\n    case \"thematicBreak\":\n      return [buildThematicBreak(node)];\n    case \"blockquote\":\n      return [buildBlockquote(node, deco, overrides)];\n    case \"list\":\n      return [buildList(node, deco, overrides)];\n    case \"listItem\":\n      return [buildListItem(node, deco, overrides)];\n    case \"table\":\n      return [buildTable(node, deco, overrides)];\n    case \"tableRow\":\n      return [buildTableRow(node, deco, overrides)];\n    case \"tableCell\":\n      return [buildTableCell(node, deco, overrides)];\n    case \"html\":\n      return [buildHtml(node)];\n    case \"code\":\n      return [buildCode(node)];\n    case \"yaml\":\n      return [buildYaml(node)];\n    case \"toml\":\n      return [buildToml(node)];\n    case \"definition\":\n      return [buildDefinition(node)];\n    case \"footnoteDefinition\":\n      return [buildFootnoteDefinition(node, deco, overrides)];\n    case \"text\":\n      return [buildText(node.value, deco)];\n    case \"emphasis\":\n    case \"strong\":\n    case \"delete\": {\n      const { type, children } = node;\n      return children.reduce<SlateNode[]>((acc, n) => {\n        acc.push(...buildSlateNode(n, { ...deco, [type]: true }, overrides));\n        return acc;\n      }, []);\n    }\n    case \"inlineCode\": {\n      const { type, value } = node;\n      return [buildText(value, { ...deco, [type]: true })];\n    }\n    case \"break\":\n      return [buildBreak(node)];\n    case \"link\":\n      return [buildLink(node, deco, overrides)];\n    case \"image\":\n      return [buildImage(node)];\n    case \"linkReference\":\n      return [buildLinkReference(node, deco, overrides)];\n    case \"imageReference\":\n      return [buildImageReference(node)];\n    case \"footnote\":\n      return [buildFootnote(node, deco, overrides)];\n    case \"footnoteReference\":\n      return [buildFootnoteReference(node)];\n    case \"math\":\n      return [buildMath(node)];\n    case \"inlineMath\":\n      return [buildInlineMath(node)];\n    default:\n      unreachable(node);\n      break;\n  }\n  return [];\n};\n\nexport type Paragraph = ReturnType<typeof buildParagraph>;\n\nconst buildParagraph = (\n  { type, children }: mdast.Paragraph,\n  deco: Decoration,\n  overrides: OverridedMdastBuilders\n) => {\n  return {\n    type,\n    children: convertNodes(children, deco, overrides),\n  };\n};\n\nexport type Heading = ReturnType<typeof buildHeading>;\n\nconst buildHeading = (\n  { type, children, depth }: mdast.Heading,\n  deco: Decoration,\n  overrides: OverridedMdastBuilders\n) => {\n  return {\n    type,\n    depth,\n    children: convertNodes(children, deco, overrides),\n  };\n};\n\nexport type ThematicBreak = ReturnType<typeof buildThematicBreak>;\n\nconst buildThematicBreak = ({ type }: mdast.ThematicBreak) => {\n  return {\n    type,\n    children: [{ text: \"\" }],\n  };\n};\n\nexport type Blockquote = ReturnType<typeof buildBlockquote>;\n\nconst buildBlockquote = (\n  { type, children }: mdast.Blockquote,\n  deco: Decoration,\n  overrides: OverridedMdastBuilders\n) => {\n  return {\n    type,\n    children: convertNodes(children, deco, overrides),\n  };\n};\n\nexport type List = ReturnType<typeof buildList>;\n\nconst buildList = (\n  { type, children, ordered, start, spread }: mdast.List,\n  deco: Decoration,\n  overrides: OverridedMdastBuilders\n) => {\n  return {\n    type,\n    children: convertNodes(children, deco, overrides),\n    ordered,\n    start,\n    spread,\n  };\n};\n\nexport type ListItem = ReturnType<typeof buildListItem>;\n\nconst buildListItem = (\n  { type, children, checked, spread }: mdast.ListItem,\n  deco: Decoration,\n  overrides: OverridedMdastBuilders\n) => {\n  return {\n    type,\n    children:\n      // https://github.com/inokawa/remark-slate-transformer/issues/42\n      // https://github.com/inokawa/remark-slate-transformer/issues/129\n      children.length === 0\n        ? [{ text: \"\" }]\n        : convertNodes(children, deco, overrides),\n    checked,\n    spread,\n  };\n};\n\nexport type Table = ReturnType<typeof buildTable>;\n\nconst buildTable = (\n  { type, children, align }: mdast.Table,\n  deco: Decoration,\n  overrides: OverridedMdastBuilders\n) => {\n  return {\n    type,\n    children: convertNodes(children, deco, overrides),\n    align,\n  };\n};\n\nexport type TableRow = ReturnType<typeof buildTableRow>;\n\nconst buildTableRow = (\n  { type, children }: mdast.TableRow,\n  deco: Decoration,\n  overrides: OverridedMdastBuilders\n) => {\n  return {\n    type,\n    children: convertNodes(children, deco, overrides),\n  };\n};\n\nexport type TableCell = ReturnType<typeof buildTableCell>;\n\nconst buildTableCell = (\n  { type, children }: mdast.TableCell,\n  deco: Decoration,\n  overrides: OverridedMdastBuilders\n) => {\n  return {\n    type,\n    children: convertNodes(children, deco, overrides),\n  };\n};\n\nexport type Html = ReturnType<typeof buildHtml>;\n\nconst buildHtml = ({ type, value }: mdast.HTML) => {\n  return {\n    type,\n    children: [{ text: value }],\n  };\n};\n\nexport type Code = ReturnType<typeof buildCode>;\n\nconst buildCode = ({ type, value, lang, meta }: mdast.Code) => {\n  return {\n    type,\n    lang,\n    meta,\n    children: [{ text: value }],\n  };\n};\n\nexport type Yaml = ReturnType<typeof buildYaml>;\n\nconst buildYaml = ({ type, value }: mdast.YAML) => {\n  return {\n    type,\n    children: [{ text: value }],\n  };\n};\n\nexport type Toml = ReturnType<typeof buildToml>;\n\nconst buildToml = ({ type, value }: mdast.TOML) => {\n  return {\n    type,\n    children: [{ text: value }],\n  };\n};\n\nexport type Math = ReturnType<typeof buildMath>;\n\nconst buildMath = ({ type, value }: mdast.Math) => {\n  return {\n    type,\n    children: [{ text: value }],\n  };\n};\n\nexport type InlineMath = ReturnType<typeof buildInlineMath>;\n\nconst buildInlineMath = ({ type, value }: mdast.InlineMath) => {\n  return {\n    type,\n    children: [{ text: value }],\n  };\n};\n\nexport type Definition = ReturnType<typeof buildDefinition>;\n\nconst buildDefinition = ({\n  type,\n  identifier,\n  label,\n  url,\n  title,\n}: mdast.Definition) => {\n  return {\n    type,\n    identifier,\n    label,\n    url,\n    title,\n    children: [{ text: \"\" }],\n  };\n};\n\nexport type FootnoteDefinition = ReturnType<typeof buildFootnoteDefinition>;\n\nconst buildFootnoteDefinition = (\n  { type, children, identifier, label }: mdast.FootnoteDefinition,\n  deco: Decoration,\n  overrides: OverridedMdastBuilders\n) => {\n  return {\n    type,\n    children: convertNodes(children, deco, overrides),\n    identifier,\n    label,\n  };\n};\n\nexport type Text = ReturnType<typeof buildText>;\n\nconst buildText = (text: string, deco: Decoration) => {\n  return {\n    ...deco,\n    text,\n  };\n};\n\nexport type Break = ReturnType<typeof buildBreak>;\n\nconst buildBreak = ({ type }: mdast.Break) => {\n  return {\n    type,\n    children: [{ text: \"\" }],\n  };\n};\n\nexport type Link = ReturnType<typeof buildLink>;\n\nconst buildLink = (\n  { type, children, url, title }: mdast.Link,\n  deco: Decoration,\n  overrides: OverridedMdastBuilders\n) => {\n  return {\n    type,\n    children: convertNodes(children, deco, overrides),\n    url,\n    title,\n  };\n};\n\nexport type Image = ReturnType<typeof buildImage>;\n\nconst buildImage = ({ type, url, title, alt }: mdast.Image) => {\n  return {\n    type,\n    url,\n    title,\n    alt,\n    children: [{ text: \"\" }],\n  };\n};\n\nexport type LinkReference = ReturnType<typeof buildLinkReference>;\n\nconst buildLinkReference = (\n  { type, children, referenceType, identifier, label }: mdast.LinkReference,\n  deco: Decoration,\n  overrides: OverridedMdastBuilders\n) => {\n  return {\n    type,\n    children: convertNodes(children, deco, overrides),\n    referenceType,\n    identifier,\n    label,\n  };\n};\n\nexport type ImageReference = ReturnType<typeof buildImageReference>;\n\nconst buildImageReference = ({\n  type,\n  alt,\n  referenceType,\n  identifier,\n  label,\n}: mdast.ImageReference) => {\n  return {\n    type,\n    alt,\n    referenceType,\n    identifier,\n    label,\n    children: [{ text: \"\" }],\n  };\n};\n\nexport type Footnote = ReturnType<typeof buildFootnote>;\n\nconst buildFootnote = (\n  { type, children }: mdast.Footnote,\n  deco: Decoration,\n  overrides: OverridedMdastBuilders\n) => {\n  return {\n    type,\n    children: convertNodes(children, deco, overrides),\n  };\n};\n\nexport type FootnoteReference = ReturnType<typeof buildFootnoteReference>;\n\nconst buildFootnoteReference = ({\n  type,\n  identifier,\n  label,\n}: mdast.FootnoteReference) => {\n  return {\n    type,\n    identifier,\n    label,\n    children: [{ text: \"\" }],\n  };\n};\n\nexport type SlateNode =\n  | Paragraph\n  | Heading\n  | ThematicBreak\n  | Blockquote\n  | List\n  | ListItem\n  | Table\n  | TableRow\n  | TableCell\n  | Html\n  | Code\n  | Yaml\n  | Toml\n  | Definition\n  | FootnoteDefinition\n  | Text\n  | Break\n  | Link\n  | Image\n  | LinkReference\n  | ImageReference\n  | Footnote\n  | FootnoteReference\n  | Math\n  | InlineMath;\n","import type { Plugin } from \"unified\";\nimport type * as mdast from \"../models/mdast\";\nimport type * as slate from \"../models/slate\";\nimport {\n  OverridedMdastBuilders,\n  mdastToSlate,\n} from \"../transformers/mdast-to-slate\";\n\nexport type Options = {\n  overrides?: OverridedMdastBuilders;\n};\n\nconst plugin: Plugin<[Options?], mdast.Root, slate.Node[]> = function ({\n  overrides = {},\n} = {}) {\n  this.Compiler = function (node) {\n    return mdastToSlate(node, overrides);\n  };\n};\nexport default plugin;\n","import type * as unistLib from \"unist\";\nimport type * as slate from \"../../models/slate\";\nimport type * as mdast from \"../../models/mdast\";\nimport type * as slateInternal from \"../mdast-to-slate\";\nimport { unreachable } from \"../../utils\";\n\ntype DecorationType = keyof slateInternal.Decoration;\n\ntype TextOrDecoration =\n  | mdast.Text\n  | mdast.Emphasis\n  | mdast.Strong\n  | mdast.Delete\n  | mdast.InlineCode;\n\nexport type OverridedSlateBuilders = { [key: string]: SlateBuilder };\n\nexport type SlateBuilder = (\n  node: unknown,\n  next: (children: any[]) => any\n) => object | undefined;\n\nexport const slateToMdast = (\n  node: slate.Node,\n  overrides: OverridedSlateBuilders\n): mdast.Root => {\n  return buildMdastRoot(node, overrides);\n};\n\nconst buildMdastRoot = (\n  node: slate.Node,\n  overrides: OverridedSlateBuilders\n): mdast.Root => {\n  return <mdast.Root>{\n    type: \"root\",\n    children: convertNodes(\n      (node as any).children,\n      overrides\n    ) as mdast.Root[\"children\"],\n  };\n};\n\nconst convertNodes = (\n  nodes: slate.Node[],\n  overrides: OverridedSlateBuilders\n): unistLib.Node[] => {\n  const mdastNodes: unistLib.Node[] = [];\n  let textQueue: slateInternal.Text[] = [];\n  for (let i = 0; i <= nodes.length; i++) {\n    const n = nodes[i] as slateInternal.SlateNode;\n    if (n && isText(n)) {\n      textQueue.push(n);\n    } else {\n      const mdastTexts: TextOrDecoration[] = [];\n      const starts: DecorationType[] = [];\n      let ends: DecorationType[] = [];\n      let textTemp: string = \"\";\n      for (let j = 0; j < textQueue.length; j++) {\n        const cur = textQueue[j]!;\n        textTemp += cur.text;\n\n        const prevStarts = starts.slice();\n        const prevEnds = ends.slice();\n\n        const prev = textQueue[j - 1];\n        const next = textQueue[j + 1];\n        ends = [];\n        ([\"inlineCode\", \"emphasis\", \"strong\", \"delete\"] as const).forEach(\n          (k) => {\n            if (cur[k]) {\n              if (!prev || !prev[k]) {\n                starts.push(k);\n              }\n              if (!next || !next[k]) {\n                ends.push(k);\n              }\n            }\n          }\n        );\n\n        const endsToRemove = starts.reduce<\n          { key: DecorationType; index: number }[]\n        >((acc, k, kIndex) => {\n          if (ends.includes(k)) {\n            acc.push({ key: k, index: kIndex });\n          }\n          return acc;\n        }, []);\n\n        if (starts.length > 0) {\n          let bef = \"\";\n          let aft = \"\";\n          if (\n            endsToRemove.length === 1 &&\n            (prevStarts.toString() !== starts.toString() ||\n              // https://github.com/inokawa/remark-slate-transformer/issues/90\n              (prevEnds.includes(\"emphasis\") && ends.includes(\"strong\"))) &&\n            starts.length - endsToRemove.length === 0\n          ) {\n            while (textTemp.startsWith(\" \")) {\n              bef += \" \";\n              textTemp = textTemp.slice(1);\n            }\n            while (textTemp.endsWith(\" \")) {\n              aft += \" \";\n              textTemp = textTemp.slice(0, -1);\n            }\n          }\n          let res: TextOrDecoration = {\n            type: \"text\",\n            value: textTemp,\n          };\n          textTemp = \"\";\n          const startsReversed = starts.slice().reverse();\n          startsReversed.forEach((k) => {\n            switch (k) {\n              case \"inlineCode\":\n                res = {\n                  type: k,\n                  value: (res as any).value,\n                };\n                break;\n              case \"strong\":\n              case \"emphasis\":\n              case \"delete\":\n                res = {\n                  type: k,\n                  children: [res],\n                };\n                break;\n              default:\n                unreachable(k);\n                break;\n            }\n          });\n          const arr: TextOrDecoration[] = [];\n          if (bef.length > 0) {\n            arr.push({ type: \"text\", value: bef });\n          }\n          arr.push(res);\n          if (aft.length > 0) {\n            arr.push({ type: \"text\", value: aft });\n          }\n          mdastTexts.push(...arr);\n        }\n\n        if (endsToRemove.length > 0) {\n          endsToRemove.reverse().forEach((e) => {\n            starts.splice(e.index, 1);\n          });\n        } else {\n          mdastTexts.push({ type: \"text\", value: textTemp });\n          textTemp = \"\";\n        }\n      }\n      if (textTemp) {\n        mdastTexts.push({ type: \"text\", value: textTemp });\n        textTemp = \"\";\n      }\n\n      mdastNodes.push(...(mergeTexts(mdastTexts) as any as unistLib.Node[]));\n      textQueue = [];\n      if (!n) continue;\n      const node = buildMdastNode(n, overrides);\n      if (node) {\n        mdastNodes.push(node as unistLib.Node);\n      }\n    }\n  }\n\n  return mdastNodes;\n};\n\nconst buildMdastNode = (\n  node: Exclude<slateInternal.SlateNode, slateInternal.Text>,\n  overrides: OverridedSlateBuilders\n): Exclude<mdast.Content, TextOrDecoration> | null => {\n  const customNode = overrides[node.type]?.(node as any, (children) =>\n    convertNodes(children, overrides)\n  );\n  if (customNode != null) {\n    return customNode as any;\n  }\n\n  switch (node.type) {\n    case \"paragraph\":\n      return buildParagraph(node, overrides);\n    case \"heading\":\n      return buildHeading(node, overrides);\n    case \"thematicBreak\":\n      return buildThematicBreak(node);\n    case \"blockquote\":\n      return buildBlockquote(node, overrides);\n    case \"list\":\n      return buildList(node, overrides);\n    case \"listItem\":\n      return buildListItem(node, overrides);\n    case \"table\":\n      return buildTable(node, overrides);\n    case \"tableRow\":\n      return buildTableRow(node, overrides);\n    case \"tableCell\":\n      return buildTableCell(node, overrides);\n    case \"html\":\n      return buildHtml(node);\n    case \"code\":\n      return buildCode(node);\n    case \"yaml\":\n      return buildYaml(node);\n    case \"toml\":\n      return buildToml(node);\n    case \"definition\":\n      return buildDefinition(node);\n    case \"footnoteDefinition\":\n      return buildFootnoteDefinition(node, overrides);\n    case \"break\":\n      return buildBreak(node);\n    case \"link\":\n      return buildLink(node, overrides);\n    case \"image\":\n      return buildImage(node);\n    case \"linkReference\":\n      return buildLinkReference(node, overrides);\n    case \"imageReference\":\n      return buildImageReference(node);\n    case \"footnote\":\n      return buildFootnote(node, overrides);\n    case \"footnoteReference\":\n      return creatFootnoteReference(node);\n    case \"math\":\n      return buildMath(node);\n    case \"inlineMath\":\n      return buildInlineMath(node);\n    default:\n      unreachable(node);\n      break;\n  }\n  return null;\n};\n\nconst isText = (node: slateInternal.SlateNode): node is slateInternal.Text => {\n  return \"text\" in node;\n};\n\nconst mergeTexts = (nodes: TextOrDecoration[]): TextOrDecoration[] => {\n  const res: TextOrDecoration[] = [];\n  for (const cur of nodes) {\n    const last = res[res.length - 1];\n    if (last && last.type === cur.type) {\n      if (last.type === \"text\") {\n        last.value += (cur as typeof last).value;\n      } else if (last.type === \"inlineCode\") {\n        last.value += (cur as typeof last).value;\n      } else {\n        last.children = mergeTexts(\n          last.children.concat(\n            (cur as typeof last).children\n          ) as TextOrDecoration[]\n        );\n      }\n    } else {\n      if (cur.type === \"text\" && cur.value === \"\") continue;\n      res.push(cur);\n    }\n  }\n  return res;\n};\n\nconst buildParagraph = (\n  { type, children }: slateInternal.Paragraph,\n  overrides: OverridedSlateBuilders\n): mdast.Paragraph => {\n  return {\n    type,\n    children: convertNodes(children, overrides) as mdast.Paragraph[\"children\"],\n  };\n};\n\nconst buildHeading = (\n  { type, depth, children }: slateInternal.Heading,\n  overrides: OverridedSlateBuilders\n): mdast.Heading => {\n  return {\n    type,\n    depth,\n    children: convertNodes(children, overrides) as mdast.Heading[\"children\"],\n  };\n};\n\nconst buildThematicBreak = ({\n  type,\n}: slateInternal.ThematicBreak): mdast.ThematicBreak => {\n  return {\n    type,\n  };\n};\n\nconst buildBlockquote = (\n  { type, children }: slateInternal.Blockquote,\n  overrides: OverridedSlateBuilders\n): mdast.Blockquote => {\n  return {\n    type,\n    children: convertNodes(children, overrides) as mdast.Blockquote[\"children\"],\n  };\n};\n\nconst buildList = (\n  { type, ordered, start, spread, children }: slateInternal.List,\n  overrides: OverridedSlateBuilders\n): mdast.List => {\n  return {\n    type,\n    ordered,\n    start,\n    spread,\n    children: convertNodes(children, overrides) as mdast.List[\"children\"],\n  };\n};\n\nconst buildListItem = (\n  { type, checked, spread, children }: slateInternal.ListItem,\n  overrides: OverridedSlateBuilders\n): mdast.ListItem => {\n  return {\n    type,\n    checked,\n    spread,\n    children: convertNodes(children, overrides) as mdast.ListItem[\"children\"],\n  };\n};\n\nconst buildTable = (\n  { type, align, children }: slateInternal.Table,\n  overrides: OverridedSlateBuilders\n): mdast.Table => {\n  return {\n    type,\n    align,\n    children: convertNodes(children, overrides) as mdast.Table[\"children\"],\n  };\n};\n\nconst buildTableRow = (\n  { type, children }: slateInternal.TableRow,\n  overrides: OverridedSlateBuilders\n): mdast.TableRow => {\n  return {\n    type,\n    children: convertNodes(children, overrides) as mdast.TableRow[\"children\"],\n  };\n};\n\nconst buildTableCell = (\n  { type, children }: slateInternal.TableCell,\n  overrides: OverridedSlateBuilders\n): mdast.TableCell => {\n  return {\n    type,\n    children: convertNodes(children, overrides) as mdast.TableCell[\"children\"],\n  };\n};\n\nconst buildHtml = ({ type, children }: slateInternal.Html): mdast.HTML => {\n  return {\n    type,\n    value: children[0]!.text,\n  };\n};\n\nconst buildCode = ({\n  type,\n  lang,\n  meta,\n  children,\n}: slateInternal.Code): mdast.Code => {\n  return {\n    type,\n    lang,\n    meta,\n    value: children[0]!.text,\n  };\n};\n\nconst buildYaml = ({ type, children }: slateInternal.Yaml): mdast.YAML => {\n  return {\n    type,\n    value: children[0]!.text,\n  };\n};\n\nconst buildToml = ({ type, children }: slateInternal.Toml): mdast.TOML => {\n  return {\n    type,\n    value: children[0]!.text,\n  };\n};\n\nconst buildDefinition = ({\n  type,\n  identifier,\n  label,\n  url,\n  title,\n}: slateInternal.Definition): mdast.Definition => {\n  return {\n    type,\n    identifier,\n    label,\n    url,\n    title,\n  };\n};\n\nconst buildFootnoteDefinition = (\n  { type, identifier, label, children }: slateInternal.FootnoteDefinition,\n  overrides: OverridedSlateBuilders\n): mdast.FootnoteDefinition => {\n  return {\n    type,\n    identifier,\n    label,\n    children: convertNodes(\n      children,\n      overrides\n    ) as mdast.FootnoteDefinition[\"children\"],\n  };\n};\n\nconst buildBreak = ({ type }: slateInternal.Break): mdast.Break => {\n  return {\n    type,\n  };\n};\n\nconst buildLink = (\n  { type, url, title, children }: slateInternal.Link,\n  overrides: OverridedSlateBuilders\n): mdast.Link => {\n  return {\n    type,\n    url,\n    title,\n    children: convertNodes(children, overrides) as mdast.Link[\"children\"],\n  };\n};\n\nconst buildImage = ({\n  type,\n  url,\n  title,\n  alt,\n}: slateInternal.Image): mdast.Image => {\n  return {\n    type,\n    url,\n    title,\n    alt,\n  };\n};\n\nconst buildLinkReference = (\n  {\n    type,\n    identifier,\n    label,\n    referenceType,\n    children,\n  }: slateInternal.LinkReference,\n  overrides: OverridedSlateBuilders\n): mdast.LinkReference => {\n  return {\n    type,\n    identifier,\n    label,\n    referenceType,\n    children: convertNodes(\n      children,\n      overrides\n    ) as mdast.LinkReference[\"children\"],\n  };\n};\n\nconst buildImageReference = ({\n  type,\n  identifier,\n  label,\n  alt,\n  referenceType,\n}: slateInternal.ImageReference): mdast.ImageReference => {\n  return {\n    type,\n    identifier,\n    label,\n    alt,\n    referenceType,\n  };\n};\n\nconst buildFootnote = (\n  { type, children }: slateInternal.Footnote,\n  overrides: OverridedSlateBuilders\n): mdast.Footnote => {\n  return {\n    type,\n    children: convertNodes(children, overrides) as mdast.Footnote[\"children\"],\n  };\n};\n\nconst creatFootnoteReference = ({\n  type,\n  identifier,\n  label,\n}: slateInternal.FootnoteReference): mdast.FootnoteReference => {\n  return {\n    type,\n    identifier,\n    label,\n  };\n};\n\nconst buildMath = ({ type, children }: slateInternal.Math): mdast.Math => {\n  return {\n    type,\n    value: children[0]!.text,\n  };\n};\n\nconst buildInlineMath = ({\n  type,\n  children,\n}: slateInternal.InlineMath): mdast.InlineMath => {\n  return {\n    type,\n    value: children[0]!.text,\n  };\n};\n","import type { Plugin } from \"unified\";\nimport type * as mdast from \"../models/mdast\";\nimport type * as slate from \"../models/slate\";\nimport {\n  slateToMdast,\n  OverridedSlateBuilders,\n} from \"../transformers/slate-to-mdast\";\n\nexport type Options = {\n  overrides?: OverridedSlateBuilders;\n};\n\nconst plugin: Plugin<[Options?], slate.Node, mdast.Root> = ({\n  overrides = {},\n} = {}) => {\n  return function (node) {\n    return slateToMdast(node, overrides);\n  };\n};\nexport default plugin;\n","import type { BlockJSON, InlineJSON, TextJSON } from \"slate_legacy\";\nimport type * as slate from \"../models/slate\";\n\nexport const slate047ToSlate = (\n  nodes: (BlockJSON | InlineJSON | TextJSON)[]\n): slate.Node[] => {\n  return convertNodes(nodes);\n};\n\nconst convertNodes = (\n  nodes: (BlockJSON | InlineJSON | TextJSON)[]\n): slate.Node[] => {\n  return nodes.reduce<slate.Node[]>((acc, n) => {\n    const node = convert(n as BlockJSON);\n    if (node) {\n      acc.push(node);\n    }\n    return acc;\n  }, []);\n};\n\nconst convert = (\n  node: BlockJSON | InlineJSON | TextJSON\n): slate.Node | null => {\n  switch (node.object) {\n    case \"block\": {\n      const { type, nodes, data } = node;\n      return {\n        type,\n        children: convertNodes(nodes as BlockJSON[]),\n        ...data,\n      };\n    }\n    case \"inline\": {\n      const { type, nodes, data } = node;\n      return {\n        type,\n        children: convertNodes(nodes as InlineJSON[]),\n        ...data,\n      };\n    }\n    case \"text\": {\n      const { text = \"\", marks } = node;\n      return {\n        text,\n        ...marks?.reduce((acc, m) => {\n          acc[m.type] = true;\n          return acc;\n        }, {} as { [key: string]: true }),\n      };\n    }\n    default:\n      break;\n  }\n  return null;\n};\n","import type { Plugin } from \"unified\";\nimport { slateToMdast } from \"../transformers/slate-to-mdast\";\nimport { slate047ToSlate } from \"../transformers/slate0.47-to-slate\";\n\nconst plugin: Plugin<[]> = function () {\n  return function (node) {\n    return slateToMdast(\n      {\n        type: \"root\",\n        children: slate047ToSlate((node as any).children),\n      },\n      {}\n    );\n  };\n};\nexport default plugin;\n","import type {\n  ValueJSON,\n  BlockJSON,\n  InlineJSON,\n  TextJSON,\n  MarkJSON,\n} from \"slate_legacy\";\nimport type { Decoration, SlateNode } from \"./mdast-to-slate\";\n\nexport const slateToSlate047 = (nodes: SlateNode[]): ValueJSON => {\n  return {\n    object: \"value\",\n    document: {\n      object: \"document\",\n      nodes: convertNodes(nodes),\n    },\n  };\n};\n\nconst convertNodes = (\n  nodes: SlateNode[]\n): (BlockJSON | InlineJSON | TextJSON)[] => {\n  return nodes.reduce<(BlockJSON | InlineJSON | TextJSON)[]>((acc, n) => {\n    const node = convert(n as SlateNode);\n    if (node) {\n      acc.push(node);\n    }\n    return acc;\n  }, []);\n};\n\nconst convert = (node: SlateNode): BlockJSON | InlineJSON | TextJSON | null => {\n  if (\"text\" in node) {\n    const { text, ...rest } = node;\n    const marks: MarkJSON[] = Object.keys(rest).reduce<\n      { object: \"mark\"; type: string }[]\n    >((acc, type) => {\n      if (!rest[type as keyof Decoration]) return acc;\n      acc.push({\n        object: \"mark\",\n        type,\n      });\n      return acc;\n    }, []);\n    const res: TextJSON = {\n      object: \"text\",\n      text,\n      marks,\n    };\n    return res;\n  }\n  switch (node.type) {\n    case \"paragraph\":\n    case \"heading\":\n    case \"blockquote\":\n    case \"list\":\n    case \"listItem\":\n    case \"table\":\n    case \"tableRow\":\n    case \"tableCell\":\n    case \"html\":\n    case \"code\":\n    case \"yaml\":\n    case \"toml\":\n    case \"thematicBreak\":\n    case \"definition\":\n    case \"break\":\n    case \"math\": {\n      const { type, children, ...rest } = node;\n      const res: BlockJSON = {\n        object: \"block\",\n        type,\n        nodes: convertNodes(children as SlateNode[]),\n        data: {\n          ...rest,\n        },\n      };\n      return res;\n    }\n    case \"footnoteDefinition\":\n    case \"link\":\n    case \"linkReference\":\n    case \"image\":\n    case \"imageReference\":\n    case \"footnote\":\n    case \"footnoteReference\":\n    case \"inlineMath\": {\n      const { type, children, ...rest } = node;\n      const res: InlineJSON = {\n        object: \"inline\",\n        type,\n        nodes: convertNodes(children as SlateNode[]) as InlineJSON[],\n        data: {\n          ...rest,\n        },\n      };\n      return res;\n    }\n    default:\n      break;\n  }\n  return null;\n};\n","import type { Plugin } from \"unified\";\nimport { mdastToSlate, SlateNode } from \"../transformers/mdast-to-slate\";\nimport { slateToSlate047 } from \"../transformers/slate-to-slate0.47\";\n\nconst plugin: Plugin<[]> = function () {\n  this.Compiler = function (node) {\n    return slateToSlate047(mdastToSlate(node as any, {}) as SlateNode[]);\n  };\n};\nexport default plugin;\n","import type * as slate from \"../../models/slate\";\nimport type * as mdast from \"../../models/mdast\";\n\nexport type Decoration = Readonly<{\n  [key in (\n    | mdast.Emphasis\n    | mdast.Strong\n    | mdast.Delete\n    | mdast.InlineCode\n  )[\"type\"]]?: true;\n}>;\n\nexport type OverridedMdastBuilders = {\n  [key in mdast.Content[\"type\"]]?: MdastBuilder<key>;\n} & ({ [key: string]: MdastBuilder<typeof key> } | {});\n\nexport type MdastBuilder<T extends string> = (\n  node: T extends mdast.Content[\"type\"]\n    ? Extract<mdast.Content, { type: T }>\n    : unknown,\n  next: (children: any[]) => any\n) => object | undefined;\n\nexport const mdastToGoldenSlate = (\n  node: mdast.Root,\n  overrides: OverridedMdastBuilders\n): slate.Node[] => {\n  return buildSlateRoot(node, overrides);\n};\n\nconst buildSlateRoot = (\n  root: mdast.Root,\n  overrides: OverridedMdastBuilders\n): slate.Node[] => {\n  return convertNodes(root.children, {}, overrides);\n};\n\nconst convertNodes = (\n  nodes: mdast.Content[],\n  deco: Decoration,\n  overrides: OverridedMdastBuilders\n): slate.Node[] => {\n  return nodes.reduce<slate.Node[]>((acc, node) => {\n    acc.push(...buildSlateNode(node, deco, overrides));\n    return acc;\n  }, []);\n};\n\nconst emptyParagraph = {\n  type: \"paragraph\",\n  children: [{ text: \"\" }],\n};\n\nconst buildSlateNode = (\n  node: mdast.Content,\n  deco: Decoration,\n  overrides: OverridedMdastBuilders\n): SlateNode[] => {\n  const customNode = overrides[node.type]?.(node as any, (children) =>\n    convertNodes(children, deco, overrides)\n  );\n  if (customNode != null) {\n    return [customNode as SlateNode];\n  }\n\n  switch (node.type) {\n    case \"paragraph\":\n      return [buildParagraph(node, deco, overrides), emptyParagraph];\n    case \"heading\":\n      return [buildHeading(node, deco, overrides)];\n    case \"text\":\n      return [buildText(node.value, deco)];\n    case \"link\":\n      return [buildLink(node, deco, overrides)];\n    default:\n      return [];\n  }\n};\n\nexport type Paragraph = ReturnType<typeof buildParagraph>;\n\nconst buildParagraph = (\n  { type, children }: mdast.Paragraph,\n  deco: Decoration,\n  overrides: OverridedMdastBuilders\n) => {\n  return {\n    type,\n    children: convertNodes(children, deco, overrides),\n  };\n};\n\nexport type Heading = ReturnType<typeof buildHeading>;\n\nconst buildHeading = (\n  { children, depth }: mdast.Heading,\n  deco: Decoration,\n  overrides: OverridedMdastBuilders\n) => {\n  const typeByDepth = {\n    1: \"heading\",\n    2: \"heading\",\n    3: \"subheading\",\n    4: \"subheading2\",\n    5: \"paragraph\",\n    6: \"paragraph\",\n  };\n  console.log({ depth });\n  return {\n    type: typeByDepth[depth],\n    children: convertNodes(children, deco, overrides),\n  };\n};\n\nexport type Text = ReturnType<typeof buildText>;\n\nconst buildText = (text: string, deco: Decoration) => {\n  return {\n    ...deco,\n    text,\n  };\n};\n\nexport type Link = ReturnType<typeof buildLink>;\n\nconst getTextFromNode = (\n  node: { text: string } | { children: slate.Node[] }\n): string => {\n  if (\"text\" in node) {\n    return node.text;\n  }\n\n  return node.children.reduce((text, child) => {\n    return (\n      text +\n      getTextFromNode(child as { text: string } | { children: slate.Node[] })\n    );\n  }, \"\");\n};\n\nconst buildLink = (\n  { children, url }: mdast.Link,\n  deco: Decoration,\n  overrides: OverridedMdastBuilders\n) => {\n  const node: {\n    type: string;\n    children: slate.Node[];\n    href?: string;\n    id?: number;\n  } = {\n    type: \"link\",\n    children: convertNodes(children, deco, overrides),\n  };\n  const text = getTextFromNode(node);\n  const match = /^\\((?<id>\\d+)\\)$/g.exec(text);\n  if (match?.groups?.[\"id\"]) {\n    node.type = \"cite\";\n    node.id = Number.parseInt(match?.groups?.[\"id\"]);\n    node.children = [{ text: \"\" }];\n  } else {\n    node.href = url;\n  }\n  return node;\n};\n\nexport type SlateNode = Paragraph | Heading | Text | Link;\n","import type { Plugin } from \"unified\";\nimport type * as mdast from \"../models/mdast\";\nimport type * as slate from \"../models/slate\";\nimport { mdastToGoldenSlate } from \"../transformers/mdast-to-golden-slate\";\n\ntype Row = { entity: unknown; value: any; index: number } & Record<\n  string,\n  unknown\n>;\n\ntype Column = {\n  key: string;\n} & Record<string, unknown>;\n\ntype CustomElement = {\n  type: (typeof BLOCK_TYPES)[number];\n  src?: string;\n  data?: {\n    title?: string;\n    heading?: string;\n    math?: string;\n  };\n  columns?: Column[];\n  rows?: Row[];\n  title?: string;\n  maxRowCount?: number;\n  query?: unknown | null;\n  tableId?: string;\n  heading?: string;\n  children: (CustomElement | CustomText)[];\n  inserted?: true;\n  deleted?: true;\n  id?: number;\n  start?: number;\n  links?: { name: string; id: number }[];\n  position?: \"left\" | \"center\" | \"right\";\n  width?: number;\n  height?: number;\n  href?: string;\n  videoType?: \"youtube\" | \"vimeo\";\n  math?: string;\n  listId?: string;\n};\n\ntype CustomText = {\n  type?: undefined;\n  children?: undefined;\n  text: string;\n  italic?: true;\n  bold?: true;\n  underline?: true;\n  superscript?: true;\n  subscript?: true;\n  inserted?: true;\n  deleted?: true;\n};\n\nexport type GoldenNode = {\n  object: \"inline\" | \"block\";\n  kind?: string;\n  type: string;\n  data: Omit<CustomElement, \"type\" | \"children\">;\n  nodes: (GoldenNode | GoldenTextNode)[];\n  inserted?: boolean;\n  deleted?: boolean;\n};\n\ntype GoldenTextNode = {\n  object: \"text\";\n  leaves: Array<{\n    object: \"leaf\";\n    text: string;\n    marks: {\n      object: \"mark\";\n      type: string;\n      data: any;\n    }[];\n  }>;\n};\n\nexport const BLOCK = {\n  p: \"paragraph\",\n  h1: \"heading\",\n  h2: \"subheading\",\n  h3: \"subheading2\",\n  ul: \"bulleted-list\",\n  ol: \"numbered-list\",\n  li: \"list-item\",\n  img: \"image\",\n  video: \"video\",\n  table: \"table\",\n  entitytable: \"entity-table\",\n  math: \"math\",\n  code: \"code\",\n  blockquote: \"block-quote\",\n  queryView: \"query-view\",\n  listView: \"list-view\",\n  linkBlock: \"link-block\",\n} as const;\nexport const INLINE = {\n  a: \"link\",\n  internalLink: \"internal-link\",\n  cite: \"cite\",\n  mathInline: \"math-inline\",\n} as const;\nexport const MARK = {\n  em: \"italic\",\n  strong: \"bold\",\n  u: \"underline\",\n  superScript: \"superscript\",\n  subScript: \"subscript\",\n} as const;\nexport const BLOCK_TYPES = Object.values(BLOCK);\n\nconst childToGolden = (node: CustomElement): GoldenNode => {\n  const { type, children, ...data } = node;\n  const newNode: GoldenNode = {\n    object: BLOCK_TYPES.includes(type) ? \"block\" : \"inline\",\n    type,\n    nodes: children?.reduce((arr, child) => {\n      if (\"children\" in child) {\n        arr.push(childToGolden(child as CustomElement));\n      } else {\n        const lastNode = arr[arr.length - 1];\n        const { text, ...marks } = child as CustomText;\n\n        const leaves: GoldenTextNode[\"leaves\"][number][] = [\n          {\n            object: \"leaf\",\n            text,\n            marks: Object.keys(marks).map((type) => ({\n              object: \"mark\",\n              type,\n              data: {},\n            })),\n          },\n        ];\n\n        if (lastNode && \"leaves\" in lastNode) {\n          // merge neighboring text nodes\n          lastNode.leaves.push(...leaves);\n        } else {\n          arr.push({\n            object: \"text\",\n            leaves,\n          });\n        }\n      }\n      return arr;\n    }, [] as Array<GoldenNode | GoldenTextNode>),\n    data,\n  };\n  return newNode;\n};\n\nconst plugin: Plugin<[], mdast.Root, slate.Node[]> = function () {\n  this.Compiler = function (node) {\n    return mdastToGoldenSlate(node, {}).map((child) =>\n      childToGolden(child as CustomElement)\n    );\n  };\n};\nexport default plugin;\n"],"names":["buildSlateRoot","convertNodes","buildSlateNode","buildParagraph","buildHeading","buildThematicBreak","buildBlockquote","buildList","buildListItem","buildTable","buildTableRow","buildTableCell","buildHtml","buildCode","buildYaml","buildToml","buildDefinition","buildFootnoteDefinition","buildText","buildBreak","buildLink","buildImage","buildLinkReference","buildImageReference","buildFootnote","buildMath","buildInlineMath","plugin","convert"],"mappings":"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","x_google_ignoreList":[0]}